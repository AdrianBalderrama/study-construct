<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auto Study</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/bauhaus.css">
    <link rel="stylesheet" href="css/effects.css">
    <link rel="stylesheet" href="css/audio.css">
    <link rel="stylesheet" href="css/questions.css">

    <!-- Google Fonts: Teko for Logo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@700&display=swap" rel="stylesheet">

    <!-- PDF.js library for PDF parsing -->
    <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- History Sidebar -->
        <aside class="history-sidebar">
            <h3>HISTORY</h3>
            <div id="history-list" class="history-list">
                <!-- History items injected by JS -->
                <div class="history-empty">No tests taken yet.</div>
            </div>
        </aside>

        <!-- Header -->
        <header class="construct-header">
            <div class="logo-block">
                <h1>AUTO<br>STUDY</h1>
            </div>
            <div class="header-controls">
                <button id="settings-btn" class="shape-btn circle-btn" aria-label="Settings">
                    <svg viewBox="0 0 24 24" width="24" height="24">
                        <path
                            d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97 0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.63c-.04.34-.07.67-.07 1 0 .33.03.66.07 1l-2.11 1.63c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.31.61.22l2.49-1c.52.39 1.06.73 1.69.98l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.25 1.17-.59 1.69-.98l2.49 1c.22.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.63z" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Main Content Area -->
        <main id="main-view" class="construct-grid">
            <!-- View: Atelier (Upload) -->
            <section id="view-atelier" class="view-section active">
                <div class="hero-block">
                    <h2>INPUT<br>DATA</h2>
                    <p>Upload text, PDF, images, audio, or video to generate a construct.</p>
                </div>
                <div class="upload-zone" id="drop-zone">
                    <div class="upload-icon"></div>
                    <p>DROP FILE HERE</p>
                    <input type="file" id="file-input"
                        accept=".txt,.md,.markdown,.csv,.json,.pdf,.jpg,.jpeg,.png,.gif,.webp,.bmp,.svg,.mp3,.wav,.m4a,.ogg,.oga,.flac,.mp4,.webm,.mov,.avi,.mpeg,.mpg"
                        hidden>
                    <button id="upload-btn" class="shape-btn rect-btn">SELECT FILE</button>
                </div>
            </section>

            <!-- View: Workshop (Loading) -->
            <section id="view-workshop" class="view-section hidden">
                <div class="loader-container">
                    <div class="bauhaus-loader">
                        <div class="shape circle"></div>
                        <div class="shape square"></div>
                        <div class="shape triangle"></div>
                    </div>
                    <h3>CONSTRUCTING...</h3>
                </div>
                <div id="neural-log" class="neural-log-container">
                    <!-- Logs appear here -->
                </div>
            </section>

            <!-- View: Exam (Quiz) -->
            <section id="view-exam" class="view-section hidden">
                <div class="quiz-header">
                    <div class="progress-block">
                        <span id="q-current">01</span>
                        <div class="progress-line"></div>
                        <span id="q-total">10</span>
                    </div>
                    <div class="score-block">
                        SCORE: <span id="score-display">0</span>
                    </div>
                </div>
                <div class="question-card">
                    <h3 id="question-text">Question goes here?</h3>
                </div>
                <div class="options-grid" id="options-container">
                    <!-- Options injected by JS -->
                </div>
            </section>

            <!-- View: Exhibit (Results) -->
            <section id="view-exhibit" class="view-section hidden">
                <div class="result-card">
                    <h2>EXHIBIT<br>COMPLETE</h2>
                    <div class="final-score">
                        <span id="final-score-val">8/10</span>
                    </div>
                    <button id="restart-btn" class="shape-btn rect-btn">NEW CONSTRUCT</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content bauhaus-border">
            <div class="modal-header">
                <h3>CONFIG</h3>
                <button id="close-settings" class="close-btn">Ã—</button>
            </div>
            <div class="modal-body">
                <label>GCP ACCESS TOKEN</label>
                <input type="password" id="api-key-input" placeholder="Paste Token">
                <label>MODEL ID</label>
                <input type="text" id="model-id-input" value="gemini-2.5-flash">
                <button id="save-settings" class="shape-btn rect-btn full-width">SAVE</button>
            </div>
        </div>
    </div>

    <script type="module" src="js/app.js"></script>
</body>

</html>